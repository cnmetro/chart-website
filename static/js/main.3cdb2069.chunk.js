(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{120:function(e,a,t){e.exports=t.p+"static/media/logo.cd5e6a7c.svg"},134:function(e,a,t){e.exports=t(293)},139:function(e,a,t){},141:function(e,a,t){},161:function(e,a,t){},293:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),c=t(57),i=t.n(c),o=(t(139),t(35)),l=t(36),s=t(41),m=t(37),u=t(42),h=(t(141),t(120)),v=t.n(h),d=t(58),p=t.n(d),g=(t(161),t(299)),f=t(290),y=t(291),E=t(298),b=t(295),k=t(119),N=t(296),j=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={data:[],query:"count=30"},t}return Object(u.a)(a,e),Object(l.a)(a,[{key:"request",value:function(e,a){return p.a.get("http://metro.sinchang.me/api/flows?city=".concat(a,"&").concat(e)).then(function(e){return e.data})}},{key:"requestAll",value:function(e){return Promise.all([this.request(e,"sh"),this.request(e,"bj"),this.request(e,"gz")])}},{key:"formatData",value:function(e){var a=["Shanghai","Beijing","Guangzhou"],t=JSON.parse(JSON.stringify(e[0].data));e.forEach(function(e,n){e.data.forEach(function(e,r){t[r][a[n]]=e.num})}),this.setState({data:t.reverse()})}},{key:"componentDidMount",value:function(){var e=this;this.requestAll(this.state.query).then(function(a){e.formatData(a)})}},{key:"render",value:function(){return r.a.createElement("div",{className:""},r.a.createElement(g.a,{width:800,height:400,data:this.state.data,margin:{top:5,right:30,left:20,bottom:5}},r.a.createElement(f.a,{dataKey:"date"}),r.a.createElement(y.a,null),r.a.createElement(E.a,{strokeDasharray:"3 3"}),r.a.createElement(b.a,null),r.a.createElement(k.a,null),r.a.createElement(N.a,{type:"monotone",dataKey:"Shanghai",stroke:"#8884d8"}),r.a.createElement(N.a,{type:"monotone",dataKey:"Beijing",stroke:"#82ca9d"}),r.a.createElement(N.a,{type:"monotone",dataKey:"Guangzhou",stroke:"#1281ca"})))}}]),a}(n.Component),w={sh:"#8884d8",bj:"#82ca9d",gz:"#1281ca"},O=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={name:"",query:"count=30",data:[]},t}return Object(u.a)(a,e),Object(l.a)(a,[{key:"request",value:function(e,a){return p.a.get("http://metro.sinchang.me/api/flows?city=".concat(a,"&").concat(e)).then(function(e){return e.data})}},{key:"componentDidMount",value:function(){var e=this.props.match.params.name;this.fetchData(e)}},{key:"componentWillReceiveProps",value:function(e){var a=e.match.params.name;a!==this.state.name&&this.fetchData(a)}},{key:"fetchData",value:function(e){var a=this,t=this.state.query;this.request(t,e).then(function(t){a.setState({data:t.data.reverse(),name:e})})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(g.a,{width:800,height:400,data:this.state.data,margin:{top:5,right:30,left:20,bottom:5}},r.a.createElement(f.a,{dataKey:"date"}),r.a.createElement(y.a,null),r.a.createElement(E.a,{strokeDasharray:"3 3"}),r.a.createElement(b.a,null),r.a.createElement(k.a,null),r.a.createElement(N.a,{type:"monotone",dataKey:"num",stroke:w[this.state.name]})))}}]),a}(n.Component),q=t(300),D=t(301),A=t(294),C=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(l.a)(a,[{key:"activeEvent",value:function(e){if(!e)return!1}},{key:"render",value:function(){return r.a.createElement(q.a,null,r.a.createElement("div",{className:"app"},r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement("a",{className:"navbar-brand",href:"/"},r.a.createElement("img",{src:v.a,width:"30",height:"30",className:"d-inline-block align-top",alt:"logo"})),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup"},r.a.createElement("div",{className:"navbar-nav"},r.a.createElement(D.a,{className:"nav-item nav-link",to:"/",activeClassName:"active",isActive:this.activeEvent},"Home"),r.a.createElement(D.a,{className:"nav-item nav-link",to:"/city/sh",activeClassName:"active"},"Shanghai"),r.a.createElement(D.a,{className:"nav-item nav-link",to:"/city/bj",activeClassName:"active"},"Beijing"),r.a.createElement(D.a,{className:"nav-item nav-link",to:"/city/gz",activeClassName:"active"},"Guangzhou")))),r.a.createElement("p",{className:"tip-text"},"(unit: Ten thousand)"),r.a.createElement(A.a,{exact:!0,path:"/",component:j}),r.a.createElement(A.a,{path:"/city/:name",component:O})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[134,2,1]]]);
//# sourceMappingURL=main.3cdb2069.chunk.js.map